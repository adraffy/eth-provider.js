function i(e=256){return new r(e,1)}function o(r){if("string"!=typeof r)throw TypeError("expected string");var t=(r=unescape(encodeURIComponent(r)))["length"];let i=new Uint8Array(t);for(let e=0;e<t;e++)i[e]=r.charCodeAt(e);return i}function n(r){if("string"!=typeof r)throw TypeError("expected string");var e=r["length"];if(1&e)throw new TypeError("expected string of hex bytes");let t=0;r.startsWith("0x")&&(t+=2);var i=e-t>>1;let n=new Uint8Array(i);for(let e=0;e<i;e++){var s=parseInt(r.slice(t,t+=2),16);if(Number.isNaN(s))throw new TypeError("expected hex byte");n[e]=s}return n}function t(e){return[...e].map(e=>e.toString(16).padStart(2,"0")).join("")}class r extends class{constructor(e,r){var t=1600;if(31&e)throw new Error("capacity % 32 != 0");if(e<0||t<=e)throw new Error("capacity must be [0,1600)");this.sponge=Array(50).fill(0),this.block_count=t-e>>5,this.block_index=0,this.suffix=r,this.ragged_block=0,this.ragged_shift=0}update(e){if(!(e instanceof Uint8Array))if(e instanceof ArrayBuffer)e=new Uint8Array(e);else if(Array.isArray(e))e=Uint8Array.from(e);else{if("string"!=typeof e)throw new TypeError("expected bytes");e=o(e)}let r=0;var t=e.length;if(0<this.ragged_shift&&(r=this._add_ragged(e,0),r==t))return this;let{sponge:i,block_index:n,block_count:s}=this;for(;r+4<=t;r+=4)i[n++]^=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24,n==s&&(a(i),n=0);return this.block_index=n,r<t&&this._add_ragged(e,r),this}_add_ragged(e,r){let{ragged_shift:t,ragged_block:i}=this,n=0;for(;r<e.length&&t<32;n++,r++,t+=8)i|=e[r]<<t;return 32==t&&(this._add_block(i),t=0,i=0),this.ragged_block=i,this.ragged_shift=t,n}_add_block(e){let{sponge:r,block_index:t,block_count:i}=this;r[t++]^=e,t==i&&(a(r),t=0),this.block_index=t}finalize(){let{sponge:e,suffix:r,ragged_shift:t,block_index:i,block_count:n}=this;if(t){if(-1==t)return this;r=this.ragged_block|r<<t}e[i]^=r,e[n-1]^=2147483648,a(e),this.ragged_shift=-1}}{constructor(e,r){super(e<<1,r),this.size=e>>5}get hex(){return t(this.bytes)}get bytes(){this.finalize();var{size:r,sponge:t}=this;let i=new Int32Array(r);for(let e=0;e<r;e++)i[e]=t[e];return new Uint8Array(i.buffer)}}const Y=[1,0,32898,0,32906,-2147483648,-2147450880,-2147483648,32907,0,-2147483647,0,-2147450751,-2147483648,32777,-2147483648,138,0,136,0,-2147450871,0,-2147483638,0,-2147450741,0,139,-2147483648,32905,-2147483648,32771,-2147483648,32770,-2147483648,128,-2147483648,32778,0,-2147483638,-2147483648,-2147450751,-2147483648,32896,-2147483648,-2147483647,0,-2147450872,-2147483648];function a(r){for(let e=0;e<48;e+=2){var t=r[0]^r[10]^r[20]^r[30]^r[40],i=r[1]^r[11]^r[21]^r[31]^r[41],n=r[2]^r[12]^r[22]^r[32]^r[42],s=r[3]^r[13]^r[23]^r[33]^r[43],o=r[4]^r[14]^r[24]^r[34]^r[44],a=r[5]^r[15]^r[25]^r[35]^r[45],h=r[6]^r[16]^r[26]^r[36]^r[46],f=r[7]^r[17]^r[27]^r[37]^r[47],l=r[8]^r[18]^r[28]^r[38]^r[48],u=r[9]^r[19]^r[29]^r[39]^r[49],g=l^(n<<1|s>>>31),c=u^(s<<1|n>>>31);r[0]^=g,r[1]^=c,r[10]^=g,r[11]^=c,r[20]^=g,r[21]^=c,r[30]^=g,r[31]^=c,r[40]^=g,r[41]^=c,c=i^(a<<1|o>>>31),r[2]^=g=t^(o<<1|a>>>31),r[3]^=c,r[12]^=g,r[13]^=c,r[22]^=g,r[23]^=c,r[32]^=g,r[33]^=c,r[42]^=g,r[43]^=c,c=s^(f<<1|h>>>31),r[4]^=g=n^(h<<1|f>>>31),r[5]^=c,r[14]^=g,r[15]^=c,r[24]^=g,r[25]^=c,r[34]^=g,r[35]^=c,r[44]^=g,r[45]^=c,c=a^(u<<1|l>>>31),r[6]^=g=o^(l<<1|u>>>31),r[7]^=c,r[16]^=g,r[17]^=c,r[26]^=g,r[27]^=c,r[36]^=g,r[37]^=c,r[46]^=g,r[47]^=c,c=f^(i<<1|t>>>31),r[8]^=g=h^(t<<1|i>>>31),r[9]^=c,r[18]^=g,r[19]^=c,r[28]^=g,r[29]^=c,r[38]^=g,r[39]^=c,r[48]^=g,r[49]^=c;var p=r[0],y=r[1],d=r[11]<<4|r[10]>>>28,b=r[10]<<4|r[11]>>>28,w=r[20]<<3|r[21]>>>29,x=r[21]<<3|r[20]>>>29,_=r[31]<<9|r[30]>>>23,A=r[30]<<9|r[31]>>>23,v=r[40]<<18|r[41]>>>14,m=r[41]<<18|r[40]>>>14,E=r[2]<<1|r[3]>>>31,k=r[3]<<1|r[2]>>>31,U=r[13]<<12|r[12]>>>20,T=r[12]<<12|r[13]>>>20,I=r[22]<<10|r[23]>>>22,S=r[23]<<10|r[22]>>>22,B=r[33]<<13|r[32]>>>19,R=r[32]<<13|r[33]>>>19,z=r[42]<<2|r[43]>>>30,C=r[43]<<2|r[42]>>>30,N=r[5]<<30|r[4]>>>2,j=r[4]<<30|r[5]>>>2,L=r[14]<<6|r[15]>>>26,M=r[15]<<6|r[14]>>>26,W=r[25]<<11|r[24]>>>21,$=r[24]<<11|r[25]>>>21,D=r[34]<<15|r[35]>>>17,O=r[35]<<15|r[34]>>>17,V=r[45]<<29|r[44]>>>3,q=r[44]<<29|r[45]>>>3,F=r[6]<<28|r[7]>>>4,G=r[7]<<28|r[6]>>>4,H=r[17]<<23|r[16]>>>9,J=r[16]<<23|r[17]>>>9,K=r[26]<<25|r[27]>>>7,P=r[27]<<25|r[26]>>>7,Q=r[36]<<21|r[37]>>>11,X=r[37]<<21|r[36]>>>11,s=r[47]<<24|r[46]>>>8,n=r[46]<<24|r[47]>>>8,a=r[8]<<27|r[9]>>>5,o=r[9]<<27|r[8]>>>5,l=r[18]<<20|r[19]>>>12,u=r[19]<<20|r[18]>>>12,f=r[29]<<7|r[28]>>>25,h=r[28]<<7|r[29]>>>25,t=r[38]<<8|r[39]>>>24,i=r[39]<<8|r[38]>>>24,g=r[48]<<14|r[49]>>>18,c=r[49]<<14|r[48]>>>18;r[0]=p^~U&W,r[1]=y^~T&$,r[10]=F^~l&w,r[11]=G^~u&x,r[20]=E^~L&K,r[21]=k^~M&P,r[30]=a^~d&I,r[31]=o^~b&S,r[40]=N^~H&f,r[41]=j^~J&h,r[2]=U^~W&Q,r[3]=T^~$&X,r[12]=l^~w&B,r[13]=u^~x&R,r[22]=L^~K&t,r[23]=M^~P&i,r[32]=d^~I&D,r[33]=b^~S&O,r[42]=H^~f&_,r[43]=J^~h&A,r[4]=W^~Q&g,r[5]=$^~X&c,r[14]=w^~B&V,r[15]=x^~R&q,r[24]=K^~t&v,r[25]=P^~i&m,r[34]=I^~D&s,r[35]=S^~O&n,r[44]=f^~_&z,r[45]=h^~A&C,r[6]=Q^~g&p,r[7]=X^~c&y,r[16]=B^~V&F,r[17]=R^~q&G,r[26]=t^~v&E,r[27]=i^~m&k,r[36]=D^~s&a,r[37]=O^~n&o,r[46]=_^~z&N,r[47]=A^~C&j,r[8]=g^~p&U,r[9]=c^~y&T,r[18]=V^~F&l,r[19]=q^~G&u,r[28]=v^~E&L,r[29]=m^~k&M,r[38]=s^~a&d,r[39]=n^~o&b,r[48]=z^~N&H,r[49]=C^~j&J,r[0]^=Y[e],r[1]^=Y[e+1]}}function s(r){if("string"==typeof r){if(/^(0x)?[a-f0-9]{0,12}$/i.test(r))return parseInt(r,16);r=n(r)}else if(Array.isArray(r))r=Uint8Array.from(r);else if(ArrayBuffer.isView(r))r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);else{if(!(r instanceof ArrayBuffer))throw new TypeError("unknown number to byte conversion");r=new Uint8Array(r,0,r.byteLength)}if(7<r.length){var t=r.length-7;for(let e=0;e<t;e++)if(0<r[e])throw new RangeError("overflow");r=r.subarray(t)}let e=0;for(var i of r)e=256*e+i;if(!Number.isSafeInteger(e))throw new RangeError("overflow");return e}class e{static from_hex(e){return new this(n(e))}constructor(e){this.buf=e,this.pos=0}get remaining(){return this.buf.length-this.pos}read(e){let{pos:r,buf:t}=this;var i=r+e;if(i>t.length)throw new Error("overflow");e=t.subarray(r,i);return this.pos=i,e}big(e=32){return BigInt("0x"+t(this.read(e)))}number(e=32){return s(this.read(e))}string(){var e=(i=this.number())+32;let r=this["buf"];if(e>r.length)throw new RangeError("overflow");var t=s(r.subarray(i,e)),i=e;if((e+=t)>r.length)throw new RangeError("overflow");return decodeURIComponent([...r.subarray(i,e)].map(e=>"%"+e.toString(16).padStart(2,"0")).join(""))}addr(e=!0){if(0!=this.number(12))throw new TypeError("expected zero");var r=t(this.read(20));return e?function(e){if("string"!=typeof e)throw new TypeError("expected string");if(e=(e=e.startsWith("0x")?e.slice(2):e).toLowerCase(),!/^[a-f0-9]{40}$/.test(e))throw new TypeError("expected 40-char hex");let t=i().update(e).hex;return"0x"+[...e].map((e,r)=>56<=t.charCodeAt(r)?e.toUpperCase():e).join("")}(r):"0x"+r}}function h(i,r){if("number"==typeof r){if(!Number.isSafeInteger(r))throw new RangeError("overflow");for(let e=i.length-1;r&&0<=e;e--)i[e]=r,r=Math.floor(r/256)}else{if(!(r instanceof BigInt))throw new TypeError("unknown integer: "+r);{let t=r.toString(16);var n=t["length"];for(let e=i.length-1,r=n;0<=e&&0<r;e--,r-=2)i[e]=parseInt(t.slice(Math.max(0,r-2),r),16)}}}class f{static method(e){if("string"!=typeof e)throw new TypeError("expected string");let r=new f(4);if(e.includes("("))r.bytes(i().update(e).bytes.subarray(0,4));else if(r.hex(e),4!=r.pos)throw new Error("method should be a signature or 8-char hex");return r}constructor(e=0,r=256){if(!Number.isSafeInteger(r)||r<1)throw new TypeError("expected positive initial capacity");this.buf=new Uint8Array(r),this.pos=0,this.offset=e,this.tails=[]}reset(){return this.buf.fill(0),this.tails.length=0,this.pos=0,this}build_hex(){return"0x"+t(this.build())}build(){let{pos:r,tails:t,offset:i}=this;var n=t.reduce((e,[,r])=>r.length,0);if(0<n){this.alloc(n);let e=this["buf"];for(var[s,o]of t)h(e.subarray(s,s+32),r-i),e.set(o,r),r+=o.length}return this.buf.subarray(0,r)}alloc(r){if("number"!=typeof r||r<1)throw new TypeError("expected positive size");let{buf:t,pos:e}=this;var i=e+r;if(i>t.length){let e=new Uint8Array(Math.max(t.length+r,t.length<<1));e.set(t),this.buf=t=e}return this.pos=i,t.subarray(e,i)}big(e,r=32){let t=n(e.toString(16));return t.length>r&&(t=t.subarray(t.length-r)),this.alloc(r).set(t,r-t.length),this}number(e,r=32){return h(this.alloc(r),e),this}string(e){if("string"!=typeof e)throw new TypeError("expcted string");var r=this["pos"];this.alloc(32);e=o(e);let t=new Uint8Array(e.length+63&-32);return h(t.subarray(0,32),e.length),t.set(e,32),this.tails.push([r,t]),this}hex(e){return this.bytes(n(e))}bytes(e){if(!(e instanceof Uint8Array))if(e instanceof ArrayBuffer)e=new Uint8Array(e);else if(Array.isArray(e))e=Uint8Array.from(e);else{if("string"!=typeof e)throw new TypeError("expected bytes");e=o(e)}return this.alloc(e.length).set(e),this}addr(e){e=n(e);if(20!=e.length)throw new TypeError("expected address");return this.alloc(32).set(e,12),this}}export{e as ABIDecoder,f as ABIEncoder,s as number_from_abi};